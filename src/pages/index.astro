---
import { getEntry } from 'astro:content';
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import { getWebsiteSidebarLinks } from '@lib/website-navigation';

const entry = await getEntry('website', 'home');

if (!entry) {
  throw new Error('Missing website content entry: home');
}

const { Content } = await entry.render();
---

<StarlightPage
  hasSidebar
  sidebar={getWebsiteSidebarLinks()}
  headings={[
    { depth: 2, slug: 'book-a-demo', text: 'Book a demo' },
    { depth: 2, slug: 'testimonials', text: 'Testimonials' },
    { depth: 2, slug: 'how-promptless-works', text: 'How Promptless works' },
    { depth: 2, slug: 'capabilities', text: 'Why Promptless?' },
  ]}
  frontmatter={{
    title: entry.data.title,
    description: entry.data.description,
    template: 'doc',
    editUrl: false,
  }}
>
  <div class="pl-site-page">
    <Content />
  </div>
</StarlightPage>
