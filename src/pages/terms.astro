---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import termsSource from '../../migration/legal-source/terms-source.json';

const termsParagraphs = termsSource.p.slice(6, -3);
const introParagraphs = termsParagraphs.slice(0, 6);
const bodyParagraphs = termsParagraphs.slice(6);

const sectionHeadings = new Set([
  'Accounts',
  'Access to the Site',
  'User Content',
  'Third-Party Links & Ads; Other Users',
  'Disclaimers',
  'Limitation on Liability',
  'General',
]);

const subSectionHeadings = new Set([
  'Contact Information:',
  'Address:',
]);
---

<StarlightPage
  hasSidebar={false}
  headings={[]}
  frontmatter={{
    title: 'Terms of Use',
    description: 'Legal terms governing use of Promptless website and services.',
    template: 'doc',
    editUrl: false,
    tableOfContents: false,
  }}
>
  <div class="pl-site-page pl-site-page-compact">
    {introParagraphs.map((paragraph) => <p>{paragraph}</p>)}

    {
      bodyParagraphs.map((paragraph) => {
        if (sectionHeadings.has(paragraph)) return <h2>{paragraph}</h2>;
        if (subSectionHeadings.has(paragraph)) return <h3>{paragraph}</h3>;
        return <p>{paragraph}</p>;
      })
    }
  </div>
</StarlightPage>
